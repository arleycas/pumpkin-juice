<link rel='stylesheet' href='/css/styles.listatareas.css' />

<h1>VISTA TAREAS <i class='bx bxs-notepad'></i></h1>

<div class='container d-flex justify-content-center'>
  <div style='width: 200px;'>
    <label for='selFiltroEstado' class='form-label'><i class='bx bxs-filter-alt'></i> Elije un estado</label>
    <select id='selFiltroEstado' class='form-select' aria-label='Default select example'>
      <option selected value='All'>All</option>
      <option value='Doing'>Doing</option>
      <option value='To Do'>To Do</option>
      <option value='Done'>Done</option>
    </select>
  </div>
</div>

{{#if hayTareas}}

  <div id='contCardTareas'>
    <div class='container'>
      <div class='row'>

        <div class='col-sm-12 d-flex flex-column'>
          <p style='margin-top: 1rem; text-align: center'>üòÉ Hay {{cantTareas}} tarea(s) en la app.</p>
          <p style='text-align: center;'>üéÉ <span id='phraseRandom'></span></p>
        </div>

        {{#each arrObjData}}

          {{! todo, los estilos pasar a un css luego }}
          <div class='col-sm-12 col-md-6'>
            <div class='card animate__animated' id='cardId{{this._id}}' style='margin-bottom: 1rem;'>
              <div class='card-body'>
                <p id='est{{this._id}}'><i class='{{this.classIcon}}' style='color: {{this.colorIcon}}'></i> {{this.estado}}</p>
                <p id='des{{this._id}}'>{{this.descripcion}}</p>
                <div style='font-size: 1.2rem; font-weight: bold;'><span id='cat{{this._id}}'>{{this.categoria}}</span></div>
                <div style='color: #b7b1b1; margin-top: -0.5rem;'><span id='sub{{this._id}}'>{{this.subcategoria}}</span></div>
                <p style='margin-top: 1rem;'><i class='bx bxs-calendar'></i> {{this.fechaDesde}} ~ {{this.fechaHasta}}</p>

                <div class='d-flex justify-content-end'>
                  <a href='/tarea/editar/{{this._id}}' class='btn card__btn' tabindex='-1' role='button'><i class='bx bxs-edit'></i></a>
                  <button data-id='{{this._id}}' type='button' class='btn card__btn btn_eliminar_tarea'><i class='bx bxs-trash-alt icon_eliminar_tarea'></i></button>
                </div>
              </div>
            </div>
          </div>
        {{/each}}

      </div>
    </div>

    <div class='container'>
      <div class='d-flex justify-content-center'>
        <nav aria-label='Page navigation example'>
          <ul class='pagination'>
            <li id='btnBackPag' class='page-item'>
              <a class='page-link' href='#' tabindex='-1' aria-disabled='true'><i class='bx bx-chevron-left' style='font-size: 1.5rem'></i></a>
            </li>
            {{#each arrPaginacion}}
              <li id='pag{{this}}' class='page-item page-item-num'><a class='page-link' href='/tarea/lista/{{this}}'>{{this}}</a></li>
            {{/each}}
            <li id='btnNextPag' class='page-item'><a class='page-link' href='#'><i class='bx bx-chevron-right' style='font-size: 1.5rem'></i></a></li>
          </ul>
        </nav>
      </div>

    </div>
  </div>

  <script src='/js/tarea/vwlistatareas.js'></script>

{{else}}
  No hay tareas pe
{{/if}}

<script src='/js/tarea/vwlistatareasFiltro.js'></script>

<div class='cont_btn_floating'>
  <button class='icon-btn add-btn' onclick="location.href='/tarea/agregar'">
    <div class='add-icon'></div>
    <div class='btn-txt' style='font-size: .8rem; color: #fff'>(„Å•Ôø£ 3Ôø£)„Å•</div>
  </button>
</div>